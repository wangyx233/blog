---
title: ã€JSåŸºç¡€ã€‘æ•°ç»„ä¹±åº
categories: ["JavaScript"]
toc: true
---

æœ€è¿‘åœ¨è§£å†³ä¸€ä¸ªåˆ†å¸ƒå¼é«˜å¯ç”¨çš„é—®é¢˜ï¼Œå¦‚ä½•èƒ½å¤Ÿè®©å¤šæœºçš„å®šæ—¶ä»»åŠ¡èƒ½å¤Ÿä¸é‡å¤æ‰§è¡Œï¼Œå¼•å…¥äº† redis çš„åˆ†å¸ƒå¼é”ã€‚ä½†ä¸€ä¸ªä»»åŠ¡åˆ—è¡¨å¦‚æœéƒ½é¡ºåºéå†é‚£æ¯ä¸ªä»»åŠ¡çš„æŠ¢å å¯èƒ½ä¸ä¼šé‚£ä¹ˆéšæœºï¼Œæ‰€ä»¥æƒ³è®©ä»»åŠ¡åˆ—è¡¨æ‰“ä¹±é¡ºåºï¼Œå°±ç¨å¾®äº†è§£äº†ä¸€ä¸‹æ•°ç»„ä¹±åºçš„å®ç°ã€‚

> ï¼ˆå…¶å®æœ€åç”¨çš„è¿˜æ˜¯ lodash çš„\_.shuffle() ğŸ˜¯

ä¸€ã€éšæœºæ•°ï¼Ÿ

```
[12,4,16,3].sort(function() {
    return .5 - Math.random();
})
```

v8 åœ¨å¤„ç† sort æ–¹æ³•æ—¶ï¼Œä½¿ç”¨äº†æ’å…¥æ’åºå’Œå¿«æ’ä¸¤ç§æ–¹æ¡ˆã€‚å½“ç›®æ ‡æ•°ç»„é•¿åº¦å°äº 10ï¼ˆä¸åŒç‰ˆæœ¬æœ‰å·®åˆ«ï¼‰æ—¶ï¼Œä½¿ç”¨æ’å…¥æ’åºï¼›åä¹‹ï¼Œä½¿ç”¨å¿«æ’ã€‚

äºŒã€Fisherâ€“Yates shuffle æ´—ç‰Œç®—æ³•

```
Array.prototype.shuffle = function() {
    let array = this;
    let len = array.length,
        temp, i;
    while (len) {
        i = Math.floor(Math.random() * len--);
        temp = array[len];
        array[len] = array[i];
        array[i] = temp;
    }
    return array;
}
```
